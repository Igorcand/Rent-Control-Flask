{% extends "layout.html" %} 
<!-- This HTML will load the mainly file and change just the block content part-->

{% block content %}
{% include 'navbar.html' %}

  
<main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4"><div class="chartjs-size-monitor" style="position: absolute; inset: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;"><div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>
    <section class="vh-100 gradient-custom">
        <div class="container py-5 h-100">
          <div class="row ">
            <div class="col-md-1"></div>
            <div class="col-md-10">
              <div class="card shadow-2-strong card-registration" style="border-radius: 15px; width:60em">
                <div class="card-body p-4 p-md-5">
                  <h3 class="mb-4 pb-2 pb-md-0 mb-md-5">Endere√ßos cadastrados</h3>
                  <table class="table table-sm table-condensed table-striped table-hover table-responsive">
                    <thead>
                      <th>#</th>
                      <th>Name</th>
                      <th>Value</th>
                      <th>IPTU</th>
                      <th>Pendancy</th>
                      <th>Address_id</th>
                      <th>tenant_id</th>
                      <th>Edit</th>
                      <th>Delete</th>


                    </thead>
                    <tbody>
                      {% if properties %}
                      {% for property in properties %}
                      {% if property.pendency== True %}
                      <tr style="background-color: #ff6961;">
                        <td>{{property.id}}</td>
                        <td>{{property.name}}</td>
                        <td>{{property.value}}</td>
                        <td>{{property.iptu}}</td>
                        <td>{{property.pendency}}</td>
                        <td>{{property.address_id}}</td>
                        <td>{{property.tenant_id}}</td>
                        <td>
                          <a href="{{url_for('webui.property.updateproperty', id=property.id)}}" class="btn btn-sm btn-info"> Edit</a>
                        </td>
                        <td>
                          <button type="button" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#exampleModal-{{property.id}}">
                          Delete
                        </button>
                      </td>
                      </tr>
                      {% else %}
                      <tr style="background-color: #90ee90;">
                        <td>{{property.id}}</td>
                        <td>{{property.name}}</td>
                        <td>{{property.value}}</td>
                        <td>{{property.iptu}}</td>
                        <td>{{property.pendency}}</td>
                        <td>{{property.address_id}}</td>
                        <td>{{property.tenant_id}}</td>
                        <td>
                          <a href="{{url_for('webui.property.updateproperty', id=property.id)}}" class="btn btn-sm btn-info"> Edit</a>
                        </td>
                        <td>
                          <button type="button" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#exampleModal-{{property.id}}">
                          Delete
                        </button>
                      </td>
                      </tr>
                      {% endif %}


                        <!--============= MODEL ===================-->
<div class="modal fade" id="exampleModal-{{property.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header">
  <h5 class="modal-title" id="exampleModalLabel">{{ property.name }}</h5>
  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <p class="text-danger">Are you Sure that you want to delete this brand ({{ property.name }}) </p>
  </div>
  <div class="modal-footer">
  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
  <form action="{{url_for('webui.property.deleteproperty',id=property.id)}}" method="post">
    <button type="submit" class="btn btn-danger">Delete</button>
  </form>
  
</div>
</div>
</div>
</div>

<!--============= MODEL ===================-->

                      {% endfor %}
                      {% endif %}
                    </tbody>
                  </table>
                  <a href="{{url_for('webui.property.add_property')}}">Adicionar Aluguel</a>
                </div>
              </div>
            </div>
            <div class="col-md-1"></div>
          </div>
        </div>
    </section>
</main>
      
  

{% endblock content %}